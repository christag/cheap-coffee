<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheap Coffee - Save 40-60% on Coffee Shop Drinks | cheap-coffee.com</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f0e6 0%, #e8dfd0 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #0d5f3a 0%, #0a4d30 100%);
            color: #f5f0e6;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .selector-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        label {
            display: block;
            color: #0d5f3a;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        select {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #0d5f3a;
            border-radius: 8px;
            background: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s;
        }

        select:hover {
            background: #f5f0e6;
            border-color: #0a4d30;
        }

        select:focus {
            outline: none;
            border-color: #8b6914;
            box-shadow: 0 0 5px rgba(139, 105, 20, 0.3);
        }

        .results-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
        }

        .results-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .drink-name {
            color: #0d5f3a;
            font-size: 1.8em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #e8dfd0;
        }

        .ingredients {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #8b6914;
        }

        .ingredients h3 {
            color: #8b6914;
            margin-bottom: 10px;
        }

        .ingredients ul {
            list-style: none;
            padding-left: 10px;
        }

        .ingredients li {
            padding: 5px 0;
            color: #333;
        }

        .ingredients li:before {
            content: "☕ ";
            color: #8b6914;
        }

        .cost-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .cost-box {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .original-cost {
            background: #ffe8e8;
            border: 2px solid #d99999;
        }

        .hack-cost {
            background: #e8ffe8;
            border: 2px solid #99d999;
        }

        .cost-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .cost-amount {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .original-cost .cost-amount {
            color: #b44444;
        }

        .hack-cost .cost-amount {
            color: #44b444;
        }

        .cost-breakdown {
            font-size: 0.85em;
            color: #666;
            text-align: left;
            padding: 10px;
            background: rgba(255,255,255,0.5);
            border-radius: 5px;
            margin-top: 10px;
        }

        .savings-banner {
            background: linear-gradient(135deg, #44b444 0%, #339933 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3em;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .savings-amount {
            font-size: 1.5em;
            font-weight: bold;
        }

        .hack-instructions {
            background: #fff9e6;
            border: 2px solid #f4d03f;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .hack-instructions h3 {
            color: #8b6914;
            margin-bottom: 10px;
        }

        .hack-instructions ol {
            padding-left: 20px;
            color: #333;
        }

        .hack-instructions li {
            padding: 5px 0;
            line-height: 1.6;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            font-size: 0.9em;
        }

        .size-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .size-btn {
            flex: 1;
            padding: 10px;
            background: #f5f0e6;
            border: 2px solid #0d5f3a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            color: #0d5f3a;
        }

        .size-btn:hover {
            background: #e8dfd0;
        }

        .size-btn.active {
            background: #0d5f3a;
            color: white;
        }

        .customization-section {
            background: #f5f0e6;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid #e8dfd0;
        }

        .customization-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .customization-btn {
            padding: 8px;
            background: white;
            border: 1px solid #0d5f3a;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .customization-btn:hover {
            background: #e8dfd0;
        }

        .customization-btn.selected {
            background: #0d5f3a;
            color: white;
        }

        .free-tag {
            background: #44b444;
            color: white;
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 0.75em;
            margin-left: 5px;
        }

        .pump-info {
            background: #fff9e6;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 0.9em;
            border-left: 3px solid #f4d03f;
        }

        .similarity-section {
            background: linear-gradient(135deg, #f9f9f9 0%, #f5f0e6 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #e8dfd0;
        }

        .similarity-meter {
            margin: 15px 0;
        }

        .similarity-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: bold;
            color: #0d5f3a;
        }

        .similarity-bar-bg {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .similarity-bar {
            height: 100%;
            border-radius: 15px;
            transition: width 0.8s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .similarity-bar.excellent {
            background: linear-gradient(90deg, #4CAF50, #45a049);
        }

        .similarity-bar.good {
            background: linear-gradient(90deg, #8BC34A, #7cb342);
        }

        .similarity-bar.moderate {
            background: linear-gradient(90deg, #FFC107, #ffb300);
        }

        .similarity-bar.fair {
            background: linear-gradient(90deg, #FF9800, #fb8c00);
        }

        .similarity-bar.low {
            background: linear-gradient(90deg, #f44336, #e53935);
        }

        .similarity-description {
            text-align: center;
            margin-top: 10px;
            font-style: italic;
            color: #666;
        }

        .variant-selector {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #e8dfd0;
        }

        .variant-selector h3 {
            color: #0d5f3a;
            margin-bottom: 15px;
        }

        .variant-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .variant-btn {
            flex: 1;
            min-width: 200px;
            padding: 12px;
            background: white;
            border: 2px solid #0d5f3a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .variant-btn:hover {
            background: #f5f0e6;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .variant-btn.active {
            background: #0d5f3a;
            color: white;
        }

        .variant-name {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 5px;
        }

        .variant-savings {
            color: #44b444;
            font-weight: bold;
            font-size: 0.9em;
        }

        .variant-btn.active .variant-savings {
            color: #90EE90;
        }

        .variant-similarity {
            font-size: 0.85em;
            color: #666;
            margin-top: 3px;
        }

        .variant-btn.active .variant-similarity {
            color: #e0e0e0;
        }

        .no-variants-message {
            background: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            color: #8b6914;
            border: 1px solid #f4d03f;
            font-style: italic;
        }

        @media (min-width: 768px) {
            .customization-options {
                display: flex;
                flex-wrap: wrap;
                gap: 15px;
                padding: 10px 0;
                align-items: baseline;
            }

            .customization-options strong {
                min-width: 120px;
                color: #0d5f3a;
            }

            .customization-options .options-list {
                flex: 1;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
            }

            .cost-comparison {
                grid-template-columns: 1fr 1fr;
                max-width: 600px;
                margin: 20px auto;
            }

            .container {
                max-width: 1000px;
            }

            .customization-section {
                padding: 20px 25px;
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1200px;
            }

            .results-section {
                padding: 30px 35px;
            }

            .selector-section {
                display: grid;
                grid-template-columns: 1fr 2fr;
                gap: 20px;
                align-items: end;
            }

            .selector-section label:first-child {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>☕ Cheap Coffee ☕</h1>
            <p class="subtitle">Save 40-60% on popular coffee chain drinks with smart ordering hacks!</p>
            <p class="subtitle" style="font-size: 0.9em; margin-top: 5px;">Updated September 2025 - Based on major coffee chain pricing</p>
        </header>

        <div class="selector-section">
            <label for="categorySelect">Filter by Category:</label>
            <select id="categorySelect" style="margin-bottom: 15px;">
                <option value="all">All Drinks</option>
                <option value="Fall Seasonal">🍂 Fall Seasonal</option>
                <option value="Core Espresso">☕ Core Espresso</option>
                <option value="Shaken Espresso">🧊 Shaken Espresso</option>
                <option value="Tea">🍵 Tea Drinks</option>
                <option value="Cold Brew">❄️ Cold Brew</option>
            </select>
            
            <label for="drinkSelect">Choose Your Favorite Drink:</label>
            <select id="drinkSelect">
                <option value="">-- Select a drink to see savings --</option>
            </select>
        </div>

        <div class="results-section" id="results">
            <h2 class="drink-name" id="drinkName"></h2>
            
            <div class="size-selector">
                <button class="size-btn active" data-size="tall">Tall (12oz)</button>
                <button class="size-btn" data-size="grande">Grande (16oz)</button>
                <button class="size-btn" data-size="venti">Venti (20/24oz)</button>
            </div>

            <div class="ingredients">
                <h3>📝 Original Recipe:</h3>
                <ul id="ingredientsList"></ul>
            </div>

            <div class="variant-selector" id="variantSelector" style="display: none;">
                <h3>💡 Choose Your Savings Strategy:</h3>
                <div class="variant-buttons" id="variantButtons"></div>
            </div>

            <div class="customization-section" id="customizations" style="display: none;">
                <h3>🎨 FREE Customizations Available:</h3>
                <div id="customizationsList"></div>
            </div>

            <div class="similarity-section">
                <div class="similarity-meter">
                    <div class="similarity-label">
                        <span>Similarity to Original</span>
                        <span id="similarityPercent">0%</span>
                    </div>
                    <div class="similarity-bar-bg">
                        <div class="similarity-bar" id="similarityBar" style="width: 0%">
                            <span id="similarityText">0%</span>
                        </div>
                    </div>
                    <div class="similarity-description" id="similarityDesc">
                        Calculating similarity...
                    </div>
                </div>
            </div>

            <div class="cost-comparison">
                <div class="cost-box original-cost">
                    <div class="cost-label">MENU PRICE</div>
                    <div class="cost-amount" id="originalPrice">$0.00</div>
                    <div class="cost-breakdown" id="originalBreakdown"></div>
                </div>
                <div class="cost-box hack-cost">
                    <div class="cost-label">HACK PRICE</div>
                    <div class="cost-amount" id="hackPrice">$0.00</div>
                    <div class="cost-breakdown" id="hackBreakdown"></div>
                </div>
            </div>

            <div class="savings-banner">
                💰 You Save: <span class="savings-amount" id="savingsAmount">$0.00</span> 
                (<span id="savingsPercent">0%</span>)
            </div>

            <div class="hack-instructions">
                <h3>🎯 How to Order (The Smart Way):</h3>
                <ol id="hackSteps"></ol>
            </div>
        </div>

        <footer class="footer">
            <p>Prices updated September 2025. Your location may vary ±$0.50.</p>
            <p style="margin-top: 5px; font-size: 0.8em;">Non-dairy milks (oat, almond, soy, coconut) are now FREE as of November 2024!</p>
            
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e8dfd0;">
                <p style="font-size: 0.9em; color: #666;">
                    Made with ☕ by <a href="https://linkedin.com/in/christophertagliaferro" target="_blank" style="color: #0d5f3a; text-decoration: none; font-weight: bold;">Chris Tagliaferro</a> in 2025
                </p>
                <p style="font-size: 0.85em; color: #888; margin-top: 5px;">
                    An effort to save you a little money while getting ripped off by big corporations
                </p>
                <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                    For suggestions, corrections, or to add your favorite hack: <a href="mailto:help@cheap-coffee.com" style="color: #0d5f3a;">help@cheap-coffee.com</a>
                </p>
                <div style="margin-top: 15px; padding: 10px; background: #fff9e6; border-radius: 5px; font-size: 0.8em; color: #8b6914;">
                    <strong>📄 Open Source & Free Forever:</strong> This site is free for personal use. 
                    <a href="https://github.com/christag/cheap-coffee/blob/main/LICENSE.md" target="_blank" style="color: #0d5f3a;">View License</a> | 
                    <a href="https://github.com/christag/cheap-coffee" target="_blank" style="color: #0d5f3a;">Contribute on GitHub</a>
                    <br><em style="font-size: 0.9em; color: #666; margin-top: 5px; display: block;">
                        Special licensing terms apply to coffee corporations. By using this site, you agree to our license terms.
                    </em>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Function to replace random vowel with *
        function censorDrinkName(name) {
            const vowels = ['a', 'e', 'i', 'o', 'u', 'A', 'E', 'I', 'O', 'U'];
            let vowelPositions = [];
            
            for (let i = 0; i < name.length; i++) {
                if (vowels.includes(name[i])) {
                    vowelPositions.push(i);
                }
            }
            
            if (vowelPositions.length > 0) {
                const randomIndex = vowelPositions[Math.floor(Math.random() * vowelPositions.length)];
                return name.substring(0, randomIndex) + '*' + name.substring(randomIndex + 1);
            }
            return name;
        }

        // Comprehensive drink database with September 2025 pricing and ingredients
        // Pump patterns: Hot drinks 2/3/4/5 pumps (short/tall/grande/venti)
        // Iced drinks 3/4/6/7 pumps (tall/grande/venti/trenta)
        // Espresso shots: Hot 1/1/2/2, Iced 1/2/3
        const drinks = {
            'pumpkin_spice_latte': {
                name: 'Pumpkin Spice Latte',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['1 shot espresso', '3 pumps pumpkin sauce', 'Steamed 2% milk', 'Whipped cream', 'Pumpkin spice topping'],
                    grande: ['2 shots espresso', '4 pumps pumpkin sauce', 'Steamed 2% milk', 'Whipped cream', 'Pumpkin spice topping'],
                    venti: ['2 shots espresso', '5 pumps pumpkin sauce', 'Steamed 2% milk', 'Whipped cream', 'Pumpkin spice topping']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.45 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf', '½ Decaf'],
                    temperature: ['Standard (150-170°F)', 'Kids (130°F)', 'Extra Hot (180°F)'],
                    foam: ['Standard foam', 'No foam', 'Light foam', 'Extra foam'],
                    pumps: ['Standard pumps', 'Half-sweet', 'Extra pumps (+1-2)']
                },
                hack: {
                    base: 'Caffè Latte',
                    basePrices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                    similarity: 75,
                    additions: [{ item: '2 pumps chai syrup', price: 0.80 }],
                    steps: [
                        'Order a [SIZE] Caffè Latte',
                        'Add 2 pumps chai syrup (+$0.80)',
                        'Ask for cinnamon dolce topping (FREE)',
                        'Request whipped cream (FREE)',
                        'Add nutmeg powder from condiment bar (FREE)',
                        'Creates similar warm spice profile for less!'
                    ]
                }
            },
            'pecan_oatmilk_cortado': {
                name: 'Pecan Oatmilk Cortado',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['3 ristretto shots Blonde Espresso', '2 pumps pecan syrup', 'Brown butter notes', 'Steamed oatmilk', 'Pecan crunch topping'],
                    grande: ['3 ristretto shots Blonde Espresso', '2 pumps pecan syrup', 'Brown butter notes', 'Steamed oatmilk', 'Pecan crunch topping'],
                    venti: ['Not available in Venti']
                },
                prices: { tall: 6.95, grande: 6.95, venti: 0 },
                customizations: {
                    roast: ['Blonde Espresso (default)', 'Signature Espresso', 'Decaf'],
                    temperature: ['Standard', 'Extra Hot'],
                    pumps: ['Standard (2 pumps)', 'Light (1 pump)', 'Extra (3 pumps)']
                },
                hack: {
                    base: 'Triple Espresso',
                    basePrices: { tall: 3.85, grande: 3.85, venti: 0 },
                    similarity: 85,
                    steps: [
                        'Order a triple ristretto Blonde Espresso in an 8oz cup',
                        'Ask for steamed oatmilk (FREE since Nov 2024)',
                        'Add toffee nut syrup if available (+$0.80)',
                        'Or use brown sugar packets from condiment bar (FREE)',
                        'Request cinnamon topping (FREE)'
                    ]
                }
            },
            'caffe_latte': {
                name: 'Caffè Latte',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['1 shot espresso', 'Steamed 2% milk', 'Light layer of microfoam'],
                    grande: ['2 shots espresso', 'Steamed 2% milk', 'Light layer of microfoam'],
                    venti: ['2 shots espresso', 'Steamed 2% milk', 'Light layer of microfoam']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)', 'Heavy Cream'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf', '½ Decaf'],
                    temperature: ['Standard (150-170°F)', 'Kids (130°F)', 'Extra Hot (180°F)'],
                    foam: ['Light foam (default)', 'No foam', 'Extra foam (dry)'],
                    shots: ['Standard', 'Extra shot (+$1.00)', 'Ristretto', 'Long shot']
                },
                hack: {
                    base: 'Americano',
                    basePrices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                    similarity: 90,
                    steps: [
                        'Order a [SIZE] Americano',
                        'Ask for it with steamed milk instead of water',
                        'Or get extra room and add steamed milk (FREE up to 4oz)',
                        'Choose any milk alternative for FREE',
                        'Saves $1.50 with nearly identical taste!'
                    ]
                }
            },
            'caramel_macchiato': {
                name: 'Caramel Macchiato',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['2 pumps vanilla syrup', '1 shot espresso', 'Steamed 2% milk', 'Caramel drizzle'],
                    grande: ['3 pumps vanilla syrup', '2 shots espresso', 'Steamed 2% milk', 'Caramel drizzle'],
                    venti: ['4 pumps vanilla syrup', '2 shots espresso', 'Steamed 2% milk', 'Caramel drizzle']
                },
                prices: { tall: 5.95, grande: 6.45, venti: 6.95 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf', '½ Decaf'],
                    temperature: ['Standard', 'Kids', 'Extra Hot'],
                    style: ['Standard', 'Upside down', 'Extra caramel'],
                    pumps: ['Standard vanilla', 'Half-sweet', 'Extra vanilla']
                },
                hacks: [
                    {
                        name: 'Exact Recipe',
                        base: 'Vanilla Latte',
                        basePrices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                        similarity: 100,
                        steps: [
                            'Order a [SIZE] Vanilla Latte',
                            'Ask for caramel drizzle on top and bottom (FREE)',
                            'Request the espresso to be poured on top (FREE)',
                            'Exact same drink for $0.70 less!'
                        ]
                    },
                    {
                        name: 'Maximum Savings',
                        base: 'Caffè Latte',
                        basePrices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                        similarity: 85,
                        steps: [
                            'Order a [SIZE] Caffè Latte',
                            'Ask for caramel drizzle on top and bottom (FREE)',
                            'Request vanilla powder from condiment bar (FREE)',
                            'Or ask for vanilla in the steamed milk (FREE)',
                            'Nearly identical for $0.50 less!'
                        ]
                    }
                ]
            },
            'white_chocolate_mocha': {
                name: 'White Chocolate Mocha',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['3 pumps white chocolate sauce', '1 shot espresso', 'Steamed 2% milk', 'Whipped cream'],
                    grande: ['4 pumps white chocolate sauce', '2 shots espresso', 'Steamed 2% milk', 'Whipped cream'],
                    venti: ['5 pumps white chocolate sauce', '2 shots espresso', 'Steamed 2% milk', 'Whipped cream']
                },
                prices: { tall: 5.95, grande: 6.45, venti: 6.95 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf'],
                    temperature: ['Standard', 'Kids', 'Extra Hot'],
                    whip: ['With whip (default)', 'No whip', 'Extra whip'],
                    pumps: ['Standard white chocolate', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Caffè Latte',
                    basePrices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                    additions: [{ item: '2 pumps white chocolate', price: 0.80 }],
                    steps: [
                        'Order a [SIZE] Caffè Latte',
                        'Add 2 pumps white chocolate sauce (+$0.80)',
                        'Ask for whipped cream (FREE)',
                        'Still saves money even with syrup charge!'
                    ]
                }
            },
            'pumpkin_cream_cold_brew': {
                name: 'Pumpkin Cream Cold Brew',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['Cold brew coffee', '2 pumps vanilla syrup', 'Pumpkin cream cold foam', 'Ice'],
                    grande: ['Cold brew coffee', '3 pumps vanilla syrup', 'Pumpkin cream cold foam', 'Ice'],
                    venti: ['Cold brew coffee', '4 pumps vanilla syrup', 'Pumpkin cream cold foam', 'Ice']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                customizations: {
                    sweetness: ['Standard vanilla', 'No vanilla', 'Half-sweet', 'Extra vanilla'],
                    ice: ['Standard ice', 'Light ice', 'No ice', 'Extra ice'],
                    foam: ['Standard pumpkin foam', 'Extra foam', 'Light foam']
                },
                hack: {
                    base: 'Cold Brew',
                    basePrices: { tall: 4.45, grande: 4.95, venti: 5.45 },
                    steps: [
                        'Order a [SIZE] Cold Brew',
                        'Ask for vanilla sweet cream cold foam (FREE)',
                        'Request pumpkin spice topping on foam (FREE)',
                        'Add cinnamon powder (FREE)',
                        'Saves $1 with similar fall flavor!'
                    ]
                }
            },
            'iced_pumpkin_spice_latte': {
                name: 'Iced Pumpkin Spice Latte',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['1 shot espresso', '3 pumps pumpkin sauce', 'Cold 2% milk', 'Ice', 'Whipped cream', 'Pumpkin spice topping'],
                    grande: ['2 shots espresso', '4 pumps pumpkin sauce', 'Cold 2% milk', 'Ice', 'Whipped cream', 'Pumpkin spice topping'],
                    venti: ['3 shots espresso', '6 pumps pumpkin sauce', 'Cold 2% milk', 'Ice', 'Whipped cream', 'Pumpkin spice topping']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.45 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf', '½ Decaf'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    whip: ['With whip (default)', 'No whip', 'Extra whip'],
                    pumps: ['Standard pumps', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Iced Caffè Latte',
                    basePrices: { tall: 5.45, grande: 5.95, venti: 6.75 },
                    additions: [{ item: '2 pumps chai syrup', price: 0.80 }],
                    steps: [
                        'Order a [SIZE] Iced Caffè Latte',
                        'Add 2 pumps chai syrup (+$0.80)',
                        'Ask for whipped cream (FREE)',
                        'Request cinnamon and nutmeg powder (FREE)',
                        'Creates a similar spiced latte for less!'
                    ]
                }
            },
            'iced_pumpkin_cream_chai': {
                name: 'Iced Pumpkin Cream Chai',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['Chai concentrate', 'Cold 2% milk', 'Ice', 'Pumpkin cream cold foam'],
                    grande: ['Chai concentrate', 'Cold 2% milk', 'Ice', 'Pumpkin cream cold foam'],
                    venti: ['Chai concentrate', 'Cold 2% milk', 'Ice', 'Pumpkin cream cold foam']
                },
                prices: { tall: 6.25, grande: 6.75, venti: 7.25 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    foam: ['Standard pumpkin foam', 'Extra foam', 'Light foam'],
                    chai: ['Standard chai', 'Extra chai pumps', 'Light chai']
                },
                hack: {
                    base: 'Iced Chai Tea Latte',
                    basePrices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                    steps: [
                        'Order a [SIZE] Iced Chai Tea Latte',
                        'Ask for vanilla sweet cream cold foam (FREE)',
                        'Request pumpkin spice topping on foam (FREE)',
                        'Add cinnamon powder (FREE)',
                        'Nearly identical for $1 less!'
                    ]
                }
            },
            'pecan_crunch_oat_latte': {
                name: 'Pecan Crunch Oat Latte',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['1 shot espresso', '3 pumps pecan syrup', 'Steamed oatmilk', 'Pecan crunch topping'],
                    grande: ['2 shots espresso', '4 pumps pecan syrup', 'Steamed oatmilk', 'Pecan crunch topping'],
                    venti: ['2 shots espresso', '5 pumps pecan syrup', 'Steamed oatmilk', 'Pecan crunch topping']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.45 },
                customizations: {
                    milk: ['Oatmilk (default)', '2%', 'Nonfat', 'Whole', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf'],
                    temperature: ['Standard', 'Kids', 'Extra Hot'],
                    foam: ['Light foam', 'No foam', 'Extra foam'],
                    pumps: ['Standard pecan', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Caffè Latte',
                    basePrices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                    additions: [{ item: 'Toffee nut syrup', price: 0.80 }],
                    steps: [
                        'Order a [SIZE] Caffè Latte with oatmilk (FREE)',
                        'Add toffee nut syrup (+$0.80)',
                        'Ask for caramel drizzle (FREE)',
                        'Request cinnamon topping (FREE)',
                        'Similar nutty flavor profile, saves money!'
                    ]
                }
            },
            'vanilla_latte': {
                name: 'Vanilla Latte',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['Vanilla syrup (3 pumps)', '1 shot espresso', 'Steamed 2% milk'],
                    grande: ['Vanilla syrup (4 pumps)', '2 shots espresso', 'Steamed 2% milk'],
                    venti: ['Vanilla syrup (5 pumps)', '2 shots espresso', 'Steamed 2% milk']
                },
                prices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                hack: {
                    base: 'Americano',
                    basePrices: { tall: 3.45, grande: 3.95, venti: 4.45 },
                    similarity: 85,
                    steps: [
                        'Order a [SIZE] Americano',
                        'Ask for it in a larger cup',
                        'Add milk from the condiment bar',
                        'Stir in vanilla-flavored whipped cream (FREE)',
                        'Or add FREE vanilla powder from condiment station'
                    ]
                }
            },
            'caffe_mocha': {
                name: 'Caffè Mocha',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['Mocha sauce (3 pumps)', '1 shot espresso', 'Steamed 2% milk', 'Whipped cream'],
                    grande: ['Mocha sauce (4 pumps)', '2 shots espresso', 'Steamed 2% milk', 'Whipped cream'],
                    venti: ['Mocha sauce (5 pumps)', '2 shots espresso', 'Steamed 2% milk', 'Whipped cream']
                },
                prices: { tall: 4.95, grande: 5.45, venti: 5.95 },
                hack: {
                    base: 'Americano',
                    basePrices: { tall: 3.45, grande: 3.95, venti: 4.45 },
                    additions: [{ item: 'Mocha syrup', price: 0.80 }],
                    similarity: 80,
                    steps: [
                        'Order a [SIZE] Americano',
                        'Add mocha syrup (+$0.80)',
                        'Ask for extra steamed milk (FREE)',
                        'Top with whipped cream (FREE)',
                        'Saves you over $1 even with syrup charge!'
                    ]
                }
            },
            'chai_tea_latte': {
                name: 'Chai Tea Latte',
                category: 'Tea',
                ingredients: {
                    tall: ['Chai concentrate (1:1 ratio)', 'Steamed 2% milk', 'Light foam'],
                    grande: ['Chai concentrate (1:1 ratio)', 'Steamed 2% milk', 'Light foam'],
                    venti: ['Chai concentrate (1:1 ratio)', 'Steamed 2% milk', 'Light foam']
                },
                prices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    temperature: ['Standard', 'Kids', 'Extra Hot'],
                    foam: ['Light foam (default)', 'No foam', 'Extra foam'],
                    pumps: ['Standard chai', 'Extra chai pumps', 'Light chai']
                },
                hack: {
                    base: 'Chai Tea Bags',
                    basePrices: { tall: 2.95, grande: 3.25, venti: 3.45 },
                    similarity: 70,
                    steps: [
                        'Order [SIZE] hot water with 2 chai tea bags',
                        'Steep for 5 minutes for strong flavor',
                        'Add steamed milk from condiment bar',
                        'Sweeten with honey packets (FREE)',
                        'Creates authentic chai for half price!'
                    ]
                }
            },
            'iced_chai_tea_latte': {
                name: 'Iced Chai Tea Latte',
                category: 'Tea',
                ingredients: {
                    tall: ['Chai concentrate', 'Cold 2% milk', 'Ice'],
                    grande: ['Chai concentrate', 'Cold 2% milk', 'Ice'],
                    venti: ['Chai concentrate', 'Cold 2% milk', 'Ice']
                },
                prices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    sweetness: ['Standard sweet', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Iced Tea',
                    basePrices: { tall: 2.95, grande: 3.25, venti: 3.45 },
                    similarity: 75,
                    steps: [
                        'Order [SIZE] iced chai tea (2 tea bags)',
                        'Ask for light ice',
                        'Add milk from condiment bar',
                        'Sweeten with liquid cane sugar (FREE)',
                        'Mix well for creamy iced chai!'
                    ]
                }
            },
            'iced_coffee': {
                name: 'Iced Coffee',
                category: 'Cold Brew',
                ingredients: {
                    tall: ['Brewed coffee', 'Ice', 'Classic syrup (3 pumps)'],
                    grande: ['Brewed coffee', 'Ice', 'Classic syrup (4 pumps)'],
                    venti: ['Brewed coffee', 'Ice', 'Classic syrup (6 pumps)']
                },
                prices: { tall: 3.45, grande: 3.95, venti: 4.45 },
                hack: {
                    base: 'Hot Coffee',
                    basePrices: { tall: 2.45, grande: 2.65, venti: 2.95 },
                    steps: [
                        'Order a [SIZE] hot coffee',
                        'Ask for a cup of ice (FREE)',
                        'Let coffee cool for 2 minutes then pour over ice',
                        'Add milk and sweetener from condiment bar',
                        'Classic or vanilla syrup often FREE with iced coffee'
                    ]
                }
            },
            'iced_caramel_macchiato': {
                name: 'Iced Caramel Macchiato',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['Vanilla syrup (3 pumps)', '2 shots espresso', 'Cold 2% milk', 'Ice', 'Caramel drizzle'],
                    grande: ['Vanilla syrup (4 pumps)', '2 shots espresso', 'Cold 2% milk', 'Ice', 'Caramel drizzle'],
                    venti: ['Vanilla syrup (6 pumps)', '3 shots espresso', 'Cold 2% milk', 'Ice', 'Caramel drizzle']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.75 },
                hack: {
                    base: 'Iced Espresso',
                    basePrices: { tall: 2.95, grande: 3.45, venti: 3.95 },
                    steps: [
                        'Order [SIZE] iced espresso shots in a venti cup',
                        'Add milk from condiment bar',
                        'Stir in vanilla powder (FREE at condiment station)',
                        'Ask barista for caramel drizzle (usually FREE)',
                        'Huge savings with same taste profile!'
                    ]
                }
            },
            'flat_white': {
                name: 'Flat White',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['2 ristretto shots', 'Microfoam milk'],
                    grande: ['3 ristretto shots', 'Microfoam milk'],
                    venti: ['4 ristretto shots', 'Microfoam milk']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                hack: {
                    base: 'Doppio Espresso',
                    basePrices: { tall: 2.45, grande: 2.95, venti: 3.45 },
                    steps: [
                        'Order a doppio (double shot) or triple espresso',
                        'Ask for it in a larger cup',
                        'Request extra steamed milk with microfoam (FREE)',
                        'Specify you want whole milk for authentic flat white',
                        'Nearly identical drink for half the price!'
                    ]
                }
            },
            'cinnamon_dolce_latte': {
                name: 'Cinnamon Dolce Latte',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['Cinnamon dolce syrup (3 pumps)', '1 shot espresso', 'Steamed 2% milk', 'Whipped cream', 'Cinnamon dolce topping'],
                    grande: ['Cinnamon dolce syrup (4 pumps)', '2 shots espresso', 'Steamed 2% milk', 'Whipped cream', 'Cinnamon dolce topping'],
                    venti: ['Cinnamon dolce syrup (5 pumps)', '2 shots espresso', 'Steamed 2% milk', 'Whipped cream', 'Cinnamon dolce topping']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                hack: {
                    base: 'Caffè Latte',
                    basePrices: { tall: 4.65, grande: 5.15, venti: 5.95 },
                    steps: [
                        'Order a [SIZE] Caffè Latte',
                        'Ask for whipped cream (FREE)',
                        'Request cinnamon powder mixed in and on top (FREE)',
                        'Sweeten with raw sugar packets for dolce flavor',
                        'Nearly identical taste without the syrup upcharge!'
                    ]
                }
            },
            'cappuccino': {
                name: 'Cappuccino',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['1 shot espresso', 'Steamed milk', 'Thick layer of foam'],
                    grande: ['2 shots espresso', 'Steamed milk', 'Thick layer of foam'],
                    venti: ['2 shots espresso', 'Steamed milk', 'Thick layer of foam']
                },
                prices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                hack: {
                    base: 'Espresso',
                    basePrices: { tall: 2.45, grande: 2.95, venti: 2.95 },
                    steps: [
                        'Order [SIZE] espresso shots in a larger cup',
                        'Ask for extra foam with steamed milk (FREE)',
                        'Or ask for a "wet" cappuccino with less foam',
                        'Dust with cocoa or cinnamon powder (FREE)',
                        'Same drink, much lower price!'
                    ]
                }
            },
            'iced_vanilla_latte': {
                name: 'Iced Vanilla Latte',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['Vanilla syrup (3 pumps)', '1 shot espresso', 'Cold 2% milk', 'Ice'],
                    grande: ['Vanilla syrup (4 pumps)', '2 shots espresso', 'Cold 2% milk', 'Ice'],
                    venti: ['Vanilla syrup (6 pumps)', '3 shots espresso', 'Cold 2% milk', 'Ice']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.75 },
                hack: {
                    base: 'Iced Americano',
                    basePrices: { tall: 3.45, grande: 3.95, venti: 4.75 },
                    steps: [
                        'Order an [SIZE] Iced Americano',
                        'Ask for room for milk',
                        'Add milk from condiment bar',
                        'Use vanilla powder from condiment station (FREE)',
                        'Or ask for vanilla in whipped cream stirred in (FREE)'
                    ]
                }
            },
            'cold_brew': {
                name: 'Cold Brew Coffee',
                category: 'Cold Brew',
                ingredients: {
                    tall: ['Cold brew coffee concentrate', 'Water', 'Ice'],
                    grande: ['Cold brew coffee concentrate', 'Water', 'Ice'],
                    venti: ['Cold brew coffee concentrate', 'Water', 'Ice']
                },
                prices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                hack: {
                    base: 'Iced Coffee',
                    basePrices: { tall: 3.45, grande: 3.95, venti: 4.45 },
                    steps: [
                        'Order [SIZE] iced coffee',
                        'Ask for no classic syrup',
                        'Request light ice for stronger coffee',
                        'Not as smooth as cold brew but similar caffeine',
                        'Add cream to smooth out any bitterness'
                    ]
                }
            },
            'nitro_cold_brew': {
                name: 'Nitro Cold Brew',
                category: 'Cold Brew',
                ingredients: {
                    tall: ['Nitrogen-infused cold brew', 'No ice needed'],
                    grande: ['Nitrogen-infused cold brew', 'No ice needed'],
                    venti: ['Not available in Venti']
                },
                prices: { tall: 4.95, grande: 5.45, venti: 0 },
                hack: {
                    base: 'Cold Brew',
                    basePrices: { tall: 3.95, grande: 4.45, venti: 0 },
                    steps: [
                        'Order a [SIZE] regular cold brew',
                        'Ask for no ice to get more coffee',
                        'Add a splash of heavy cream for creaminess',
                        'Shake the cup to create foam',
                        'Not as smooth but saves $1+'
                    ]
                }
            },
            'iced_brown_sugar_oatmilk': {
                name: 'Iced Brown Sugar Oatmilk Shaken Espresso',
                category: 'Shaken Espresso',
                ingredients: {
                    tall: ['2 shots Blonde Espresso', '3 pumps brown sugar syrup', 'Cinnamon powder', 'Oatmilk splash', 'Ice'],
                    grande: ['3 shots Blonde Espresso', '4 pumps brown sugar syrup', 'Cinnamon powder', 'Oatmilk splash', 'Ice'],
                    venti: ['4 shots Blonde Espresso', '6 pumps brown sugar syrup', 'Cinnamon powder', 'Oatmilk splash', 'Ice']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.45 },
                customizations: {
                    roast: ['Blonde Espresso (default)', 'Signature Espresso', 'Decaf', '½ Decaf'],
                    milk: ['Oatmilk (default)', '2%', 'Nonfat', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    pumps: ['Standard brown sugar', 'Half-sweet', 'Extra pumps'],
                    toppings: ['Cinnamon (default)', 'No cinnamon', 'Extra cinnamon']
                },
                hacks: [
                    {
                        name: 'Exact Recipe',
                        base: 'Iced Shaken Espresso',
                        basePrices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                        similarity: 100,
                        steps: [
                            'Order [SIZE] Iced Shaken Espresso',
                            'Ask for brown sugar syrup substitution (FREE syrup swap)',
                            'Request Blonde Espresso (FREE roast choice)',
                            'Add oatmilk (FREE since Nov 2024)',
                            'Ask for cinnamon powder on top (FREE)',
                            'Exact same drink for $1.00-1.50 less!'
                        ]
                    },
                    {
                        name: 'Maximum Savings',
                        base: 'Iced Triple Espresso',
                        basePrices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                        similarity: 85,
                        steps: [
                            'Order [SIZE] iced espresso (2/3/4 shots)',
                            'Ask for it shaken with ice',
                            'Add oatmilk (FREE since Nov 2024)',
                            'Use brown sugar packets from condiment bar (FREE)',
                            'Request cinnamon powder on top (FREE)',
                            'Similar taste for $2.50+ less!'
                        ]
                    }
                ]
            },
            'iced_toasted_vanilla_oatmilk': {
                name: 'Iced Toasted Vanilla Oatmilk Shaken Espresso',
                category: 'Shaken Espresso',
                ingredients: {
                    tall: ['2 shots Blonde Espresso', '3 pumps toasted vanilla syrup', 'Oatmilk splash', 'Ice'],
                    grande: ['3 shots Blonde Espresso', '4 pumps toasted vanilla syrup', 'Oatmilk splash', 'Ice'],
                    venti: ['4 shots Blonde Espresso', '6 pumps toasted vanilla syrup', 'Oatmilk splash', 'Ice']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.45 },
                customizations: {
                    roast: ['Blonde Espresso (default)', 'Signature Espresso', 'Decaf'],
                    milk: ['Oatmilk (default)', '2%', 'Almond (FREE)', 'Soy (FREE)'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    pumps: ['Standard vanilla', 'Half-sweet', 'Extra pumps']
                },
                hacks: [
                    {
                        name: 'Exact Recipe',
                        base: 'Iced Shaken Espresso',
                        basePrices: { tall: 5.45, grande: 5.95, venti: 6.45 },
                        similarity: 100,
                        additions: [{ item: 'Vanilla syrup', price: 0.80 }],
                        steps: [
                            'Order [SIZE] Iced Shaken Espresso',
                            'Add vanilla syrup (+$0.80)',
                            'Request Blonde Espresso (FREE roast choice)',
                            'Add oatmilk (FREE since Nov 2024)',
                            'Exact same drink for $0.20-1.00 less!'
                        ]
                    },
                    {
                        name: 'Maximum Savings',
                        base: 'Iced Triple Espresso',
                        basePrices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                        similarity: 85,
                        additions: [{ item: 'Vanilla syrup', price: 0.80 }],
                        steps: [
                            'Order [SIZE] iced espresso (2/3/4 shots)',
                            'Add 2 pumps vanilla syrup (+$0.80)',
                            'Ask for it shaken with ice',
                            'Add oatmilk (FREE)',
                            'Still saves $1.70 per drink!'
                        ]
                    }
                ]
            },
            'iced_pecan_crunch_oat_latte': {
                name: 'Iced Pecan Crunch Oat Latte',
                category: 'Fall Seasonal',
                ingredients: {
                    tall: ['1 shot espresso', '3 pumps pecan syrup', 'Cold oatmilk', 'Ice', 'Pecan crunch topping'],
                    grande: ['2 shots espresso', '4 pumps pecan syrup', 'Cold oatmilk', 'Ice', 'Pecan crunch topping'],
                    venti: ['3 shots espresso', '6 pumps pecan syrup', 'Cold oatmilk', 'Ice', 'Pecan crunch topping']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.75 },
                customizations: {
                    milk: ['Oatmilk (default)', '2%', 'Nonfat', 'Whole', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    pumps: ['Standard pecan', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Iced Caffè Latte',
                    basePrices: { tall: 5.45, grande: 5.95, venti: 6.75 },
                    additions: [{ item: 'Toffee nut syrup', price: 0.80 }],
                    similarity: 75,
                    steps: [
                        'Order a [SIZE] Iced Caffè Latte with oatmilk (FREE)',
                        'Add toffee nut syrup (+$0.80)',
                        'Ask for caramel drizzle (FREE)',
                        'Request cinnamon topping (FREE)',
                        'Similar nutty flavor profile, saves money!'
                    ]
                }
            },
            'iced_cinnamon_dolce_latte': {
                name: 'Iced Cinnamon Dolce Latte',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['Cinnamon dolce syrup (3 pumps)', '1 shot espresso', 'Cold 2% milk', 'Ice', 'Whipped cream', 'Cinnamon dolce topping'],
                    grande: ['Cinnamon dolce syrup (4 pumps)', '2 shots espresso', 'Cold 2% milk', 'Ice', 'Whipped cream', 'Cinnamon dolce topping'],
                    venti: ['Cinnamon dolce syrup (6 pumps)', '3 shots espresso', 'Cold 2% milk', 'Ice', 'Whipped cream', 'Cinnamon dolce topping']
                },
                prices: { tall: 5.45, grande: 5.95, venti: 6.75 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    whip: ['With whip (default)', 'No whip', 'Extra whip'],
                    pumps: ['Standard cinnamon dolce', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Iced Caffè Latte',
                    basePrices: { tall: 5.45, grande: 5.95, venti: 6.75 },
                    similarity: 85,
                    steps: [
                        'Order a [SIZE] Iced Caffè Latte',
                        'Ask for whipped cream (FREE)',
                        'Request cinnamon powder mixed in and on top (FREE)',
                        'Add brown sugar packets for dolce sweetness (FREE)',
                        'Nearly identical taste without the syrup upcharge!'
                    ]
                }
            },
            'iced_chocolate_almondmilk': {
                name: 'Iced Chocolate Almondmilk Shaken Espresso',
                category: 'Shaken Espresso',
                ingredients: {
                    tall: ['2 shots Blonde Espresso', '3 pumps chocolate malt powder', 'Almondmilk splash', 'Ice'],
                    grande: ['3 shots Blonde Espresso', '4 pumps chocolate malt powder', 'Almondmilk splash', 'Ice'],
                    venti: ['4 shots Blonde Espresso', '6 pumps chocolate malt powder', 'Almondmilk splash', 'Ice']
                },
                prices: { tall: 6.45, grande: 6.95, venti: 7.45 },
                customizations: {
                    roast: ['Blonde Espresso (default)', 'Signature Espresso', 'Decaf'],
                    milk: ['Almondmilk (default)', 'Oat (FREE)', '2%', 'Soy (FREE)', 'Coconut (FREE)'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    pumps: ['Standard chocolate', 'Half-sweet', 'Extra pumps']
                },
                hack: {
                    base: 'Iced Triple Espresso',
                    basePrices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                    additions: [{ item: 'Mocha syrup', price: 0.80 }],
                    similarity: 85,
                    steps: [
                        'Order [SIZE] iced espresso (2/3/4 shots)',
                        'Add mocha syrup (+$0.80)',
                        'Ask for it shaken with ice',
                        'Add almondmilk (FREE)',
                        'Request cocoa powder on top (FREE)',
                        'Similar chocolate coffee for $1.70+ less!'
                    ]
                }
            },
            'americano': {
                name: 'Caffè Americano',
                category: 'Core Espresso',
                ingredients: {
                    tall: ['2 shots espresso', 'Hot water'],
                    grande: ['3 shots espresso', 'Hot water'],
                    venti: ['4 shots espresso', 'Hot water']
                },
                prices: { tall: 3.95, grande: 4.45, venti: 4.95 },
                customizations: {
                    roast: ['Signature Espresso (default)', 'Blonde Espresso', 'Decaf', '½ Decaf'],
                    temperature: ['Standard', 'Extra Hot', 'Kids'],
                    room: ['No room', 'With room for milk'],
                    shots: ['Standard shots', 'Extra shot (+$1.00)', 'Ristretto', 'Long shots']
                },
                hack: {
                    base: 'Pour Over Coffee',
                    basePrices: { tall: 3.25, grande: 3.75, venti: 4.25 },
                    steps: [
                        'Order a [SIZE] pour over coffee',
                        'Choose Pike Place or dark roast',
                        'Stronger than regular drip coffee',
                        'Similar bold flavor for less',
                        'Add milk/cream as desired'
                    ]
                }
            },
            'matcha_latte': {
                name: 'Matcha Tea Latte',
                category: 'Tea',
                ingredients: {
                    tall: ['3 scoops matcha powder', '3 pumps liquid cane sugar', 'Steamed 2% milk'],
                    grande: ['4 scoops matcha powder', '4 pumps liquid cane sugar', 'Steamed 2% milk'],
                    venti: ['5 scoops matcha powder', '5 pumps liquid cane sugar', 'Steamed 2% milk']
                },
                prices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    temperature: ['Standard', 'Extra Hot', 'Kids'],
                    sweetness: ['Standard sweet', 'Half-sweet', 'No sweetener', 'Extra sweet'],
                    foam: ['Light foam', 'No foam', 'Extra foam']
                },
                hack: {
                    base: 'Hot Tea',
                    basePrices: { tall: 2.95, grande: 3.25, venti: 3.45 },
                    additions: [{ item: 'Matcha powder', price: 0.95 }],
                    similarity: 75,
                    steps: [
                        'Order a [SIZE] hot water',
                        'Ask for 2 scoops matcha powder (+$0.95)',
                        'Add steamed milk (specify type - all FREE)',
                        'Sweeten with honey packets (FREE)',
                        'Mix well for smooth consistency'
                    ]
                }
            },
            'iced_matcha_latte': {
                name: 'Iced Matcha Tea Latte',
                category: 'Tea',
                ingredients: {
                    tall: ['3 scoops matcha powder', '3 pumps liquid cane sugar', 'Cold 2% milk', 'Ice'],
                    grande: ['4 scoops matcha powder', '4 pumps liquid cane sugar', 'Cold 2% milk', 'Ice'],
                    venti: ['5 scoops matcha powder', '5 pumps liquid cane sugar', 'Cold 2% milk', 'Ice']
                },
                prices: { tall: 5.25, grande: 5.75, venti: 6.25 },
                customizations: {
                    milk: ['2% (default)', 'Nonfat', 'Whole', 'Oat (FREE)', 'Almond (FREE)', 'Soy (FREE)', 'Coconut (FREE)'],
                    ice: ['Standard ice', 'Light ice', 'Extra ice'],
                    sweetness: ['Standard sweet', 'Half-sweet', 'No sweetener', 'Extra sweet']
                },
                hack: {
                    base: 'Iced Tea',
                    basePrices: { tall: 2.95, grande: 3.25, venti: 3.45 },
                    additions: [{ item: 'Matcha powder', price: 0.95 }],
                    similarity: 75,
                    steps: [
                        'Order a [SIZE] iced water',
                        'Ask for 2 scoops matcha powder (+$0.95)',
                        'Add cold milk (specify type - all FREE)',
                        'Sweeten with liquid cane sugar packets (FREE)',
                        'Ask for extra stirring for smooth consistency'
                    ]
                }
            }
        };

        // Function to populate drinks dropdown
        function populateDrinks(category = 'all') {
            const drinkSelect = document.getElementById('drinkSelect');
            drinkSelect.innerHTML = '<option value="">-- Select a drink to see savings --</option>';
            
            // Get filtered drinks and sort alphabetically by name
            const filteredDrinks = Object.entries(drinks)
                .filter(([key, drink]) => category === 'all' || drink.category === category)
                .sort(([keyA, drinkA], [keyB, drinkB]) => drinkA.name.localeCompare(drinkB.name));
            
            filteredDrinks.forEach(([key, drink]) => {
                const option = document.createElement('option');
                option.value = key;
                option.textContent = censorDrinkName(drink.name);
                drinkSelect.appendChild(option);
            });
        }
        
        // Initial population
        populateDrinks();
        
        // Category filter handler
        document.getElementById('categorySelect').addEventListener('change', function() {
            populateDrinks(this.value);
            document.getElementById('results').classList.remove('active');
        });

        // Current selected size and variant
        let currentSize = 'tall';
        let currentVariant = 0;

        // Size button handlers
        document.querySelectorAll('.size-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentSize = this.dataset.size;
                currentVariant = 0;
                updateDisplay();
            });
        });

        // Drink selection handler
        drinkSelect.addEventListener('change', function() {
            if (this.value) {
                document.getElementById('results').classList.add('active');
                currentSize = 'tall';
                currentVariant = 0;
                document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
                document.querySelector('.size-btn[data-size="tall"]').classList.add('active');
                updateDisplay();
            } else {
                document.getElementById('results').classList.remove('active');
            }
        });

        // Default similarity scores for drinks without explicit values
        const defaultSimilarities = {
            'pumpkin_spice_latte': 75,
            'pecan_oatmilk_cortado': 85,
            'caffe_latte': 90,
            'caramel_macchiato': 85,
            'white_chocolate_mocha': 80,
            'pumpkin_cream_cold_brew': 90,
            'iced_pumpkin_spice_latte': 70,
            'iced_pumpkin_cream_chai': 85,
            'pecan_crunch_oat_latte': 75,
            'vanilla_latte': 85,
            'caffe_mocha': 80,
            'chai_tea_latte': 70,
            'iced_chai_tea_latte': 75,
            'iced_coffee': 60,
            'iced_caramel_macchiato': 85,
            'flat_white': 95,
            'cinnamon_dolce_latte': 85,
            'cappuccino': 95,
            'iced_vanilla_latte': 80,
            'cold_brew': 50,
            'nitro_cold_brew': 60,
            'iced_brown_sugar_oatmilk': 100,
            'iced_toasted_vanilla_oatmilk': 85,
            'americano': 70,
            'matcha_latte': 75
        };

        function updateDisplay() {
            const selectedDrink = drinks[drinkSelect.value];
            if (!selectedDrink) return;

            // Handle venti size for drinks that don't have it
            let size = currentSize;
            if (currentSize === 'venti' && selectedDrink.prices.venti === 0) {
                alert('This drink is not available in Venti size. Showing Grande instead.');
                size = 'grande';
                document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
                document.querySelector('.size-btn[data-size="grande"]').classList.add('active');
                currentSize = 'grande';
            }

            // Check if drink has multiple hacks (variants) or single hack
            const hasVariants = selectedDrink.hacks && Array.isArray(selectedDrink.hacks);
            const variants = hasVariants ? selectedDrink.hacks : [selectedDrink.hack];
            
            // Show/hide variant selector
            const variantSelector = document.getElementById('variantSelector');
            const variantButtons = document.getElementById('variantButtons');
            
            if (hasVariants) {
                // Filter variants to only show those that save money
                const originalPrice = selectedDrink.prices[size];
                const cheaperVariants = [];
                const variantPrices = [];
                
                variants.forEach((variant, index) => {
                    let variantPrice = variant.basePrices[size];
                    if (variant.additions) {
                        variant.additions.forEach(add => {
                            variantPrice += add.price;
                        });
                    }
                    variantPrices.push(variantPrice);
                    if (variantPrice < originalPrice) {
                        cheaperVariants.push({ variant, index, price: variantPrice });
                    }
                });
                
                if (cheaperVariants.length > 1) {
                    variantSelector.style.display = 'block';
                    variantButtons.innerHTML = '';
                    
                    cheaperVariants.forEach(({ variant, index, price }) => {
                        const savings = originalPrice - price;
                        const savingsPercent = Math.round((savings / originalPrice) * 100);
                        
                        const btn = document.createElement('div');
                        btn.className = `variant-btn ${index === currentVariant ? 'active' : ''}`;
                        btn.dataset.variant = index;
                        btn.innerHTML = `
                            <div class="variant-name">${variant.name}</div>
                            <div class="variant-savings">Save $${savings.toFixed(2)} (${savingsPercent}%)</div>
                            <div class="variant-similarity">${variant.similarity}% similarity</div>
                        `;
                        btn.addEventListener('click', () => {
                            currentVariant = index;
                            updateDisplay();
                        });
                        variantButtons.appendChild(btn);
                    });
                } else if (cheaperVariants.length === 1) {
                    variantSelector.innerHTML = '<div class="no-variants-message">💰 This drink only has one money-saving option - it\'s already optimized for maximum savings!</div>';
                    variantSelector.style.display = 'block';
                    currentVariant = cheaperVariants[0].index;
                } else {
                    variantSelector.innerHTML = '<div class="no-variants-message">😕 No cheaper alternatives found - the menu price is already the best deal for this drink.</div>';
                    variantSelector.style.display = 'block';
                    return;
                }
            } else {
                variantSelector.style.display = 'none';
                currentVariant = 0;
            }
            
            // Get current hack based on variant selection
            const currentHack = hasVariants ? selectedDrink.hacks[currentVariant] : selectedDrink.hack;
            if (!currentHack) return;

            // Update drink name
            document.getElementById('drinkName').textContent = censorDrinkName(selectedDrink.name) + ` (${size.charAt(0).toUpperCase() + size.slice(1)})`;

            // Update ingredients
            const ingredientsList = document.getElementById('ingredientsList');
            ingredientsList.innerHTML = '';
            selectedDrink.ingredients[size].forEach(ingredient => {
                const li = document.createElement('li');
                li.textContent = ingredient;
                ingredientsList.appendChild(li);
            });

            // Calculate prices
            const originalPrice = selectedDrink.prices[size];
            let hackPrice = currentHack.basePrices[size];
            
            // Add any additional costs
            if (currentHack.additions) {
                currentHack.additions.forEach(add => {
                    hackPrice += add.price;
                });
            }

            const savings = originalPrice - hackPrice;
            const savingsPercent = Math.round((savings / originalPrice) * 100);

            // Update price displays
            document.getElementById('originalPrice').textContent = `$${originalPrice.toFixed(2)}`;
            document.getElementById('hackPrice').textContent = `$${hackPrice.toFixed(2)}`;
            document.getElementById('savingsAmount').textContent = `$${savings.toFixed(2)}`;
            document.getElementById('savingsPercent').textContent = `${savingsPercent}%`;

            // Display customizations if available
            const customizationsDiv = document.getElementById('customizations');
            const customizationsList = document.getElementById('customizationsList');
            
            if (selectedDrink.customizations) {
                customizationsDiv.style.display = 'block';
                customizationsList.innerHTML = '';
                
                for (const [key, options] of Object.entries(selectedDrink.customizations)) {
                    const customDiv = document.createElement('div');
                    customDiv.className = 'customization-options';
                    
                    const labelSpan = document.createElement('strong');
                    labelSpan.textContent = key.charAt(0).toUpperCase() + key.slice(1) + ':';
                    customDiv.appendChild(labelSpan);
                    
                    const optionsDiv = document.createElement('div');
                    optionsDiv.className = 'options-list';
                    
                    options.forEach((option, index) => {
                        const span = document.createElement('span');
                        if (option.includes('FREE')) {
                            span.innerHTML = option.replace('(FREE)', '<span class="free-tag">FREE</span>');
                        } else if (option.includes('+$')) {
                            span.innerHTML = option;
                            span.style.color = '#b44444';
                        } else {
                            span.textContent = option;
                        }
                        if (index < options.length - 1) {
                            span.innerHTML += ' • ';
                        }
                        optionsDiv.appendChild(span);
                    });
                    
                    customDiv.appendChild(optionsDiv);
                    customizationsList.appendChild(customDiv);
                }
            } else {
                customizationsDiv.style.display = 'none';
            }
            
            // Display similarity score
            const similarity = currentHack.similarity || defaultSimilarities[drinkSelect.value] || 75;
            const similarityBar = document.getElementById('similarityBar');
            const similarityPercent = document.getElementById('similarityPercent');
            const similarityText = document.getElementById('similarityText');
            const similarityDesc = document.getElementById('similarityDesc');
            
            similarityPercent.textContent = `${similarity}%`;
            similarityText.textContent = `${similarity}%`;
            similarityBar.style.width = `${similarity}%`;
            
            // Set color class based on similarity
            similarityBar.className = 'similarity-bar';
            if (similarity >= 90) {
                similarityBar.classList.add('excellent');
                similarityDesc.textContent = 'Nearly identical taste!';
            } else if (similarity >= 75) {
                similarityBar.classList.add('good');
                similarityDesc.textContent = 'Very close match';
            } else if (similarity >= 60) {
                similarityBar.classList.add('moderate');
                similarityDesc.textContent = 'Good alternative';
            } else if (similarity >= 40) {
                similarityBar.classList.add('fair');
                similarityDesc.textContent = 'Similar flavor profile';
            } else {
                similarityBar.classList.add('low');
                similarityDesc.textContent = 'Different but saves money';
            }

            // Update breakdowns
            document.getElementById('originalBreakdown').innerHTML = `
                Full ${censorDrinkName(selectedDrink.name)}<br>
                Size: ${size.charAt(0).toUpperCase() + size.slice(1)}
            `;

            let hackBreakdown = `Base: ${currentHack.base} ($${currentHack.basePrices[size].toFixed(2)})`;
            if (currentHack.additions) {
                currentHack.additions.forEach(add => {
                    hackBreakdown += `<br>+ ${add.item} ($${add.price.toFixed(2)})`;
                });
            }
            hackBreakdown += `<br>+ FREE additions`;
            document.getElementById('hackBreakdown').innerHTML = hackBreakdown;

            // Update hack steps
            const hackSteps = document.getElementById('hackSteps');
            hackSteps.innerHTML = '';
            currentHack.steps.forEach(step => {
                const li = document.createElement('li');
                li.innerHTML = step.replace('[SIZE]', size.charAt(0).toUpperCase() + size.slice(1));
                hackSteps.appendChild(li);
            });
        }
    </script>
</body>
</html>